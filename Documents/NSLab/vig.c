#include<stdio.h>
#include<stdlib.h>
#include<string.h>
#include<math.h>


int arr[26][26]={65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,
66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,
67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,
68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,67,
69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,
70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,
71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,
72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,
73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,
74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,
75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,
76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,
77,78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,
78,79,80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,
79,80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,
80,81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,79,
81,82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,79,80,
82,83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,79,80,81,
83,84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,
84,85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,
85,86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,
86,87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,
87,88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,
88,89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,
89,90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,
90,65,66,57,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89
};



int main()
{
	char PT[100],KEY[100],CIPHER[100],DEC[100];
	int len,i,klen;
	char c_key[100];
	printf("\n Vignere Cipher\n");
	printf("Enter Plain Text\n");
	scanf("%s",&PT);
	printf("Enter Key\n");
	scanf("%s",&KEY);
	
	len=strlen(PT);
	klen=strlen(KEY);
	strcpy(c_key,KEY);
	while(1)
	{
		if(len>klen)
		{
			strcat(KEY,c_key);
			klen=strlen(KEY);
		}
		else
			break;
	}
	
	for(i=0;i<len;i++)
	{
		CIPHER[i]=arr[PT[i]-65][KEY[i]-65];
	}
	
	
	for(i=0;i<len;i++)
	{
	printf("%c",(char)CIPHER[i]);
	}
	printf("\nDECRYPTION\n");
	int j,k;
	for(i=0;i<len;i++)
	{
	
		for(j=0;j<26;j++)
		{	
			if(KEY[i]==arr[j][0])
			{
				for(k=0;k<26;k++)
				{
					if(CIPHER[i]==arr[j][k])
					{
						DEC[i]=arr[0][k];
					
					}
				}
				
			}
		}
	}
	
	
	for(i=0;i<len;i++)
	{
	printf("%c",(char)(DEC[i]));
	}
}
